import{_ as s,c as a,o as t,a2 as e}from"./chunks/framework.vJVF7MiN.js";const i="/developers/assets/paymaster_lifecycle.BbSaX0MH.png",E=JSON.parse('{"title":"Using the Tron Paymaster service","description":"","frontmatter":{},"headers":[],"relativePath":"tutorials/tron-paymaster.md","filePath":"tutorials/tron-paymaster.md","lastUpdated":1726572514000}'),n={name:"tutorials/tron-paymaster.md"},r=e('<h1 id="using-the-tron-paymaster-service" tabindex="-1">Using the Tron Paymaster service <a class="header-anchor" href="#using-the-tron-paymaster-service" aria-label="Permalink to &quot;Using the Tron Paymaster service&quot;">​</a></h1><p>Making TRC20 transactions on the Tron network can be challenging due to the need for sufficient resources like Bandwidth and Energy. To perform a transaction, you often need to load a significant amount of TRX into your wallet, which can be both complex and expensive. To simplify this process, we have introduced the Tron Paymaster Service, which automatically handles resource management for your transactions.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This is a BETA feature. You might encounter some issues. please always reach out to <a href="mailto:support@chaingateway.io" target="_blank" rel="noreferrer">support@chaingateway.io</a> if you have any issues with this feature</p></div><h2 id="how-it-works" tabindex="-1">How it works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How it works&quot;">​</a></h2><h3 id="step-1-funding-the-paymaster-wallet" tabindex="-1">Step 1: Funding the Paymaster Wallet <a class="header-anchor" href="#step-1-funding-the-paymaster-wallet" aria-label="Permalink to &quot;Step 1: Funding the Paymaster Wallet&quot;">​</a></h3><p>For detailed API documentation, including calls and parameters, please refer to our <a href="https://chaingateway.io/docs/#tag/paymaster/POST/api/v2/tron/paymaster" target="_blank" rel="noreferrer">Paymaster API Docs</a></p><p>To begin, deposit funds into the <a href="https://beta.chaingateway.io/paymaster" target="_blank" rel="noreferrer">paymaster wallet</a> Once your wallet is funded, you can perform Paymaster transactions in much the same way as you would with regular Tron transactions on Chaingateway.</p><p>Step 2: Asynchronous Processing</p><p>Since resource management (Energy and Bandwidth) takes time, we cannot provide a transaction ID immediately after your API call. Instead, we initiate an asynchronous process and provide you with a unique id to track your request&#39;s status. The lifecycle of the Paymaster request is illustrated in the graphic below:</p><p><img src="'+i+`" alt="Paymaster Lifecycle"></p><p>You can check the status of your request or retrieve the transaction ID in one of two ways:</p><pre><code>- Polling: Use the API to check the status periodically.
- Webhook Callback: If you provide a callback_url, we will notify you once the transaction ID is generated or if there’s an error.
</code></pre><h2 id="create-a-paymaster-request" tabindex="-1">Create a paymaster request <a class="header-anchor" href="#create-a-paymaster-request" aria-label="Permalink to &quot;Create a paymaster request&quot;">​</a></h2><p>To create a Paymaster request, use the <code>/api/v2/tron/paymater</code> endpoint with the following payload format:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TRC20&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;from&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;THG9nncwASg3ub5rvVquocAHwwQbnKZxpH&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;to&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TPUjdnMrS7XDUFp5W6zgh4QDCW34nXa2x1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;contractaddress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;amount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2832.001791</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;privatekey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;XXXXX&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;callback_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.chaingateway.io/receiver/webhooks/tron&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>This request format is similar to the standard Tron transaction API, but includes additional parameters for Paymaster service usage.</p><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th><th>Mandatory</th></tr></thead><tbody><tr><td>url</td><td>The URL of your webhook receiver endpoint</td><td>No</td></tr><tr><td>from</td><td>The sender address</td><td>Yes</td></tr><tr><td>to</td><td>The receiver address</td><td>Yes</td></tr><tr><td>contractaddress</td><td>The contract address of the token</td><td>for TRC20 and TRC721</td></tr><tr><td>token_id</td><td>Token ID of TRC10 or TRC721 Token</td><td>for TRC10 and TRC721</td></tr><tr><td>type</td><td>The type of transaction (TRX, TRC10, TRC20, TRC721)</td><td>Yes</td></tr></tbody></table><h2 id="estimating-the-costs" tabindex="-1">Estimating the costs <a class="header-anchor" href="#estimating-the-costs" aria-label="Permalink to &quot;Estimating the costs&quot;">​</a></h2><p>To estimate the cost of a Paymaster request, use the <code>/api/v2/tron/paymaster/estimate</code> endpoint with the same payload as the <code>/api/v2/tron/paymaster</code> request. Here’s an example response:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	&quot;ok&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	&quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Successfully estimated the fees&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		&quot;energy_consumption&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		&quot;bandwidth_consumption&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">267</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">		&quot;paymaster_fee&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.08</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>The <code>paymaster_fee</code> field shows the estimated fee in USDT.</p>`,21),h=[r];function o(l,p,d,k,c,u){return t(),a("div",null,h)}const g=s(n,[["render",o]]);export{E as __pageData,g as default};
